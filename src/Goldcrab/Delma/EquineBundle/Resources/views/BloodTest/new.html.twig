{% extends '::base.html.twig' %}


{% block body -%}

<div class="container-fluid">
    <div class="row-fluid">
        <div class="span12">
            <section>

                <ul class="breadcrumb">
                    <li><a href="{{ path('delma_home') }}">Dashboard</a> <span class="divider">/</span></li>
                    <li><a href="{{ path('test_blood') }}">Blood Test</a> <span class="divider">/</span></li>
                    <li class="active">New Test</li>
                </ul>

                <div class="row show-grid">
                    <div class="span8 offset2">

                    <h4>Blood Test - New</h4>
                    <form action="{{ path('test_blood_create') }}" method="post" {{ form_enctype(form) }} id="newBloodForm">

                    {{ include('DelmaEquineBundle::testAddExtras.html.twig') }}

                    <hr />

                    <div style="margin: 0 30px;">
                    <ul class="nav nav-tabs">
                        <li class="active"><a href="#1" data-toggle="tab">Hematology</a></li>
                        <li class=""><a href="#2" data-toggle="tab">Chemistry</a></li>
                        <li class=""><a href="#3" data-toggle="tab">Electrolytes</a></li>
                    </ul>
                    <div class="tab-content">
                        <div class="tab-pane active" id="1">

                            <table class="table noborder">
                                <tbody>
                                <tr>
                                    <td></td>
                                    <td> </td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td style="text-align: center;">&</td>
                                    <td style="text-align: center;">x 10E9/L</td>
                                    <td></td>
                                    <td style="text-align: center;">&</td>
                                    <td style="text-align: center;">x 10E9/L </td>
                                </tr>
                                <tr>
                                    <td>WBC</td>
                                    <td class="w60">{{ form_widget(form.hWbc) }}</td>
                                    <td>MCV</td>
                                    <td class="w60">{{ form_widget(form.hMcv) }}</td>
                                    <td>NEUT</td>
                                    <td class="w60">{{ form_widget(form.hNeut) }}</td>
                                    <td class="w60">{{ form_widget(form.hNeut2) }}</td>
                                    <td>BASO</td>
                                    <td class="w60">{{ form_widget(form.hBaso) }}</td>
                                    <td class="w60">{{ form_widget(form.hBaso2) }}</td>

                                </tr>

                                <tr>
                                    <td>RBC</td>
                                    <td class="w60">{{ form_widget(form.hRbc) }} </td>
                                    <td>MCH</td>
                                    <td class="w60">{{ form_widget(form.hMch) }}</td>
                                    <td>LYMPH</td>
                                    <td class="w60">{{ form_widget(form.hLymph) }}</td>
                                    <td class="w60">{{ form_widget(form.hLymph2) }}</td>
                                    <td>BANDS%</td>
                                    <td class="w60">{{ form_widget(form.hBands) }}</td>
                                    <td class="w60"></td>
                                </tr>

                                <tr>
                                    <td>HB</td>
                                    <td class="w60">{{ form_widget(form.hHb) }}</td>
                                    <td>MCHC</td>
                                    <td class="w60">{{ form_widget(form.hMchc) }}</td>
                                    <td>MONO</td>
                                    <td class="w60">{{ form_widget(form.hMono) }}</td>
                                    <td class="w60">{{ form_widget(form.hMono2) }}</td>
                                    <td>PTP</td>
                                    <td class="w60">{{ form_widget(form.hPtp) }}</td>
                                    <td class="w60"></td>
                                </tr>

                                <tr>
                                    <td>HCT</td>
                                    <td class="w60">{{ form_widget(form.hHct) }}</td>
                                    <td>PLT</td>
                                    <td class="w60">{{ form_widget(form.hPlt) }}</td>
                                    <td>EOSINO</td>
                                    <td class="w60">{{ form_widget(form.hEosino) }}</td>
                                    <td class="w60">{{ form_widget(form.hEosino2) }}</td>
                                    <td>HpFIB</td>
                                    <td class="w60">{{ form_widget(form.hHpFib) }}</td>
                                    <td class="w60"></td>
                                </tr>

                                </tbody>
                            </table>

                        </div>
                        <div class="tab-pane" id="2">

                            <table class="table noborder">
                                <tbody>

                                <tr>
                                    <td>ALB</td>
                                    <td class="w60">{{ form_widget(form.cAlb) }}</td>
                                    <td>CERA</td>
                                    <td class="w60">{{ form_widget(form.cCrea) }}</td>
                                    <td>LD</td>
                                    <td class="w60">{{ form_widget(form.cLd) }}</td>
                                </tr>
                                <tr>
                                    <td>ALP</td>
                                    <td class="w60">{{ form_widget(form.cAlp) }}</td>
                                    <td>D. BIL</td>
                                    <td class="w60">{{ form_widget(form.cDBil) }}</td>
                                    <td>T. BIL</td>
                                    <td class="w60">{{ form_widget(form.cTBil) }}</td>
                                </tr>
                                <tr>
                                    <td>AST</td>
                                    <td class="w60">{{ form_widget(form.cAst) }}</td>
                                    <td>GGT</td>
                                    <td class="w60">{{ form_widget(form.cGct) }}</td>
                                    <td>STP</td>
                                    <td class="w60">{{ form_widget(form.cStp) }}</td>
                                </tr>

                                <tr>
                                    <td>CK</td>
                                    <td class="w60">{{ form_widget(form.cCk) }}</td>
                                    <td>GLUC</td>
                                    <td class="w60">{{ form_widget(form.cGluc) }}</td>
                                    <td>UN</td>
                                    <td class="w60">{{ form_widget(form.cUn) }}</td>
                                </tr>
                                </tbody>
                            </table>

                            {{ form_widget(form.cExtra) }} Show extra fields

                            <div id="bloodChemistryExtraFields">
                                <table style="width: 80%; margin-top:10px;">
                                    <tbody>
                                    <tr>
                                        <td>TRIG</td>
                                        <td class="w60">{{ form_widget(form.cTrig) }}</td>
                                        <td>SAA</td>
                                        <td class="w60">{{ form_widget(form.cSaa) }}</td>
                                        <td>Foal</td>
                                        <td class="w60">{{ form_widget(form.cFoal) }}</td>
                                        <td>LAC</td>
                                        <td class="w60">{{ form_widget(form.cLac) }}</td>
                                        <td>Phos</td>
                                        <td class="w60">{{ form_widget(form.cPhos) }}</td>
                                        <td>IRON</td>
                                        <td class="w60">{{ form_widget(form.cIron) }}</td>
                                        <td>Troponin</td>
                                        <td class="w60">{{ form_widget(form.cTroponin) }}</td>
                                    </tr>

                                    </tbody>
                                </table>
                            </div>

                        </div>
                        <div class="tab-pane" id="3">

                            <table class="table noborder">
                                <tbody>

                                <tr>
                                    <td>GLUC</td>
                                    <td class="w60">{{ form_widget(form.eGluc) }}</td>
                                    <td>HCT</td>
                                    <td class="w60">{{ form_widget(form.eHct) }}</td>
                                    <td>CA</td>
                                    <td class="w60">{{ form_widget(form.eCa) }}</td>
                                </tr>
                                <tr>
                                    <td>BUN</td>
                                    <td class="w60">{{ form_widget(form.eBun) }}</td>
                                    <td>HB</td>
                                    <td class="w60">{{ form_widget(form.eHb) }}</td>
                                    <td>I CA</td>
                                    <td class="w60">{{ form_widget(form.eIca) }}</td>
                                </tr>

                                <tr>
                                    <td>NA</td>
                                    <td class="w60">{{ form_widget(form.eNa) }}</td>
                                    <td>pH</td>
                                    <td class="w60">{{ form_widget(form.ePh) }}</td>
                                </tr>
                                <tr>
                                    <td>K</td>
                                    <td class="w60">{{ form_widget(form.eK) }}</td>
                                    <td>BICARB</td>
                                    <td class="w60">{{ form_widget(form.eBicarb) }}</td>
                                </tr>
                                <tr>
                                    <td>CL</td>
                                    <td class="w60">{{ form_widget(form.eCl) }}</td>
                                    <td>MG</td>
                                    <td class="w60">{{ form_widget(form.eMg) }}</td>
                                </tr>
                                <tr>
                                    <td></td>
                                    <td class="w60"></td>
                                    <td></td>
                                    <td class="w60"></td>
                                    <td></td>
                                    <td class="w60"></td>
                                    <td></td>
                                    <td class="w60"></td>
                                </tr>
                                </tbody>
                            </table>

                        </div>

                    </div>
                    <div class="row-fluid">
                        <div class="span12 ta600" style="padding: 0px;"><b>Comments</b> <br />{{ form_widget(form.comments) }}</div>
                    </div>


                    <div class="controls">
                        <button class="btn btn-primary" name="submitButton" type="submit" value="Save" ><i class="icon-ok-sign icon-white"></i> Save</button>
                        <button class="btn btn-primary"  name="submitButton" type="submit" value="Save & New" ><i class="icon-ok-sign icon-white"></i> Save & New</button>
                        <button class="btn btn-primary"  name="submitButton" type="submit" value="Save & List" ><i class="icon-ok-sign icon-white"></i> Save & List</button>
                        <button class="btn btn-warning" id="bloodTestValueClearButton" type="button" value="Clear"><i class="icon-refresh icon-white"></i> Clear</button>
                    </div>

                    {{ form_row (form._token) }}
                    </form>

                    <hr />
                    <div style="padding: 0 40px 20px;">
                        <div class="btn"><a href="{{ path('test_blood') }}"><i class="icon-arrow-left"></i> Back to the list</a></div>
                        <div class="pull-right"></div>
                    </div>

                    </div>
                </div>
            </section>
        </div><!--/span-->
    </div><!--/row-->
</div><!--/.fluid-container-->
<script language="javascript">
    function calculateValues(){
        var wbc = parseFloat( $('#goldcrab_delma_equinebundle_bloodtesttype_hWbc').val() );
        var rbc = parseFloat( $('#goldcrab_delma_equinebundle_bloodtesttype_hRbc').val() );
        var hb = parseFloat( $('#goldcrab_delma_equinebundle_bloodtesttype_hHb').val() );
        var hct = parseFloat( $('#goldcrab_delma_equinebundle_bloodtesttype_hHct').val() );

        var neut = parseFloat( $('#goldcrab_delma_equinebundle_bloodtesttype_hNeut').val() );
        var lymph = parseFloat( $('#goldcrab_delma_equinebundle_bloodtesttype_hLymph').val() );
        var mono = parseFloat( $('#goldcrab_delma_equinebundle_bloodtesttype_hMono').val() );
        var eosino = parseFloat( $('#goldcrab_delma_equinebundle_bloodtesttype_hEosino').val() );
        var baso = parseFloat( $('#goldcrab_delma_equinebundle_bloodtesttype_hBaso').val() );

        if( hct > 0 && rbc > 0){
            var mcv = ( hct * 10 ) / rbc;
            mcv = Math.round( mcv * 10 ) / 10;
            $('#goldcrab_delma_equinebundle_bloodtesttype_hMcv').val( mcv );
        }

        if( hb > 0 && rbc > 0){
            var mch = ( hb * 10 ) / rbc;
            mch = Math.round( mch * 10 ) / 10;
            $('#goldcrab_delma_equinebundle_bloodtesttype_hMch').val( mch );
        }

        if( hb > 0 && hct > 0){
            var mchc = ( hb * 100 ) / hct;
            mchc = Math.round( mchc * 10 ) / 10;
            $('#goldcrab_delma_equinebundle_bloodtesttype_hMchc').val( mchc );
        }

        if ( wbc > 0 && neut > 0 ){
            var neut2 = ( neut * wbc ) / 100;
            neut2 = Math.round( neut2 * 10 ) / 10;
            $('#goldcrab_delma_equinebundle_bloodtesttype_hNeut2').val( neut2 );
        }

        if ( wbc > 0 && lymph > 0 ){
            var lymph2 = ( lymph * wbc ) / 100;
            lymph2 = Math.round( lymph2 * 10 ) / 10;
            $('#goldcrab_delma_equinebundle_bloodtesttype_hLymph2').val( lymph2 );
        }

        if ( wbc > 0 && mono > 0 ){
            var mono2 = ( mono * wbc ) / 100;
            mono2 = Math.round( mono2 * 10 ) / 10;
            $('#goldcrab_delma_equinebundle_bloodtesttype_hMono2').val( mono2 );
        }
        if ( wbc > 0 && eosino > 0 ){
            var eosino2 = ( eosino * wbc ) / 100;
            eosino2 = Math.round( eosino2 * 10 ) / 10;
            $('#goldcrab_delma_equinebundle_bloodtesttype_hEosino2').val( eosino2 );
        }
        if ( wbc > 0 && baso > 0 ){
            var baso2 = ( baso * wbc ) / 100;
            baso2 = Math.round( baso2 * 10 ) / 10;
            $('#goldcrab_delma_equinebundle_bloodtesttype_hBaso2').val( baso2 );
        }
    }

    $(document).ready(function() {
        if($('#goldcrab_delma_equinebundle_bloodtesttype_cExtra').prop('checked', false ) ){
            $('#bloodChemistryExtraFields').hide();
        }else{
            $('#bloodChemistryExtraFields').show();
        }
        $('#goldcrab_delma_equinebundle_bloodtesttype_cExtra').change(function(){
            if(this.checked){
                $('#bloodChemistryExtraFields').show();
            }else{
                $('#bloodChemistryExtraFields').hide();
            }
        });

        $('#goldcrab_delma_equinebundle_bloodtesttype_hWbc').focusout(function(){
            calculateValues();
        });
        $('#goldcrab_delma_equinebundle_bloodtesttype_hRbc').focusout(function(){
            calculateValues();
        });
        $('#goldcrab_delma_equinebundle_bloodtesttype_hHb').focusout(function(){
            calculateValues();
        });
        $('#goldcrab_delma_equinebundle_bloodtesttype_hHct').focusout(function(){
            calculateValues();
        });
        $('#goldcrab_delma_equinebundle_bloodtesttype_hNeut').focusout(function(){
            calculateValues();
        });
        $('#goldcrab_delma_equinebundle_bloodtesttype_hLymph').focusout(function(){
            calculateValues();
        });
        $('#goldcrab_delma_equinebundle_bloodtesttype_hMono').focusout(function(){
            calculateValues();
        });
        $('#goldcrab_delma_equinebundle_bloodtesttype_hEosino').focusout(function(){
            calculateValues();
        });
        $('#goldcrab_delma_equinebundle_bloodtesttype_hBaso').focusout(function(){
            calculateValues();
        });

        $(':input').keypress(function(e){
            if (e.which == 13) {
                if (!this.form.tabOrder) {
                    var els = this.form.elements,
                            ti = [],
                            rest = [];
                    for (var i = 0, il = els.length; i < il; i++) {
                        if (els[i].tabIndex > 0 &&
                                !els[i].disabled &&
                                !els[i].hidden &&
                                !els[i].readOnly &&
                                els[i].type !== 'hidden') {
                            ti.push(els[i]);
                        }
                    }
                    ti.sort(function(a,b){ return a.tabIndex - b.tabIndex; });
                    for (i = 0, il = els.length; i < il; i++) {
                        if (els[i].tabIndex == 0 &&
                                !els[i].disabled &&
                                !els[i].hidden &&
                                !els[i].readOnly &&
                                els[i].type !== 'hidden') {
                            rest.push(els[i]);
                        }
                    }
                    this.form.tabOrder = ti.concat(rest);
                }
                for (var j = 0, jl = this.form.tabOrder.length; j < jl; j++) {
                    if (this === this.form.tabOrder[j]) {
                        if (j+1 < jl) {
                            $(this.form.tabOrder[j+1]).select();
                        } else {
                            $(this).blur();
                        }
                    }

                }
                return false;
            }
        });

        $(".horseAutoCompleteSelector").on("select2-selecting", function(e) {

            $.get( siteURL + "test/blood/horse/"+ e.val + "/latest/json" , function(data) {
                delete data['id'];
                delete data['horse'];
                delete data['doctor'];
                delete data['tested_by'];
                delete data['tested_date'];
                for (var key in data) {
                    $('#goldcrab_delma_equinebundle_bloodtesttype_hWbc').val(data.h_wbc);
                    $('#goldcrab_delma_equinebundle_bloodtesttype_hMcv').val(data.h_mcv);
                    $('#goldcrab_delma_equinebundle_bloodtesttype_hNeut').val(data.h_neut);
                    $('#goldcrab_delma_equinebundle_bloodtesttype_hNeut2').val(data.h_neut2);
                    $('#goldcrab_delma_equinebundle_bloodtesttype_hBaso').val(data.h_baso);
                    $('#goldcrab_delma_equinebundle_bloodtesttype_hBaso2').val(data.h_baso2);
                    $('#goldcrab_delma_equinebundle_bloodtesttype_hRbc').val(data.h_rbc);
                    $('#goldcrab_delma_equinebundle_bloodtesttype_hMch').val(data.h_mch);
                    $('#goldcrab_delma_equinebundle_bloodtesttype_hLymph').val(data.h_lymph);
                    $('#goldcrab_delma_equinebundle_bloodtesttype_hLymph2').val(data.h_lymph2);
                    $('#goldcrab_delma_equinebundle_bloodtesttype_hBands').val(data.h_bands);
                    $('#goldcrab_delma_equinebundle_bloodtesttype_hHb').val(data.h_hb);
                    $('#goldcrab_delma_equinebundle_bloodtesttype_hMchc').val(data.h_mchc);
                    $('#goldcrab_delma_equinebundle_bloodtesttype_hMono').val(data.h_mono);
                    $('#goldcrab_delma_equinebundle_bloodtesttype_hMono2').val(data.h_mono2);
                    $('#goldcrab_delma_equinebundle_bloodtesttype_hPtp').val(data.h_ptp);
                    $('#goldcrab_delma_equinebundle_bloodtesttype_hHct').val(data.h_hct);
                    $('#goldcrab_delma_equinebundle_bloodtesttype_hPlt').val(data.h_plt);
                    $('#goldcrab_delma_equinebundle_bloodtesttype_hEosino').val(data.h_eosino);
                    $('#goldcrab_delma_equinebundle_bloodtesttype_hEosino2').val(data.h_eosino2);
                    $('#goldcrab_delma_equinebundle_bloodtesttype_hHpFib').val(data.h_hp_fib);
                    $('#goldcrab_delma_equinebundle_bloodtesttype_cAlb').val(data.c_alb);
                    $('#goldcrab_delma_equinebundle_bloodtesttype_cCrea').val(data.c_crea);
                    $('#goldcrab_delma_equinebundle_bloodtesttype_cLd').val(data.c_ld);
                    $('#goldcrab_delma_equinebundle_bloodtesttype_cTrig').val(data.c_trig);
                    $('#goldcrab_delma_equinebundle_bloodtesttype_cSaa').val(data.c_saa);
                    $('#goldcrab_delma_equinebundle_bloodtesttype_cFoal').val(data.c_foal);
                    $('#goldcrab_delma_equinebundle_bloodtesttype_cAlp').val(data.c_alp);
                    $('#goldcrab_delma_equinebundle_bloodtesttype_cDBil').val(data.c_d_bil);
                    $('#goldcrab_delma_equinebundle_bloodtesttype_cTBil').val(data.c_t_bil);
                    $('#goldcrab_delma_equinebundle_bloodtesttype_cLactate').val(data.c_lactate);
                    $('#goldcrab_delma_equinebundle_bloodtesttype_cLac').val(data.c_lac);
                    $('#goldcrab_delma_equinebundle_bloodtesttype_cPhos').val(data.c_phos);
                    $('#goldcrab_delma_equinebundle_bloodtesttype_cAst').val(data.c_ast);
                    $('#goldcrab_delma_equinebundle_bloodtesttype_cGct').val(data.c_gct);
                    $('#goldcrab_delma_equinebundle_bloodtesttype_cStp').val(data.c_stp);
                    $('#goldcrab_delma_equinebundle_bloodtesttype_cIron').val(data.c_iron);
                    $('#goldcrab_delma_equinebundle_bloodtesttype_cCk').val(data.c_ck);
                    $('#goldcrab_delma_equinebundle_bloodtesttype_cGluc').val(data.c_gluc);
                    $('#goldcrab_delma_equinebundle_bloodtesttype_cUn').val(data.c_un);
                    $('#goldcrab_delma_equinebundle_bloodtesttype_cTroponin').val(data.c_troponin);
                    $('#goldcrab_delma_equinebundle_bloodtesttype_eGluc').val(data.e_gluc);
                    $('#goldcrab_delma_equinebundle_bloodtesttype_eHct').val(data.e_hct);
                    $('#goldcrab_delma_equinebundle_bloodtesttype_eCa').val(data.e_ca);
                    $('#goldcrab_delma_equinebundle_bloodtesttype_eBun').val(data.e_bun);
                    $('#goldcrab_delma_equinebundle_bloodtesttype_eHb').val(data.e_hb);
                    $('#goldcrab_delma_equinebundle_bloodtesttype_eIca').val(data.e_ica);
                    $('#goldcrab_delma_equinebundle_bloodtesttype_eNa').val(data.e_na);
                    $('#goldcrab_delma_equinebundle_bloodtesttype_ePh').val(data.e_ph);
                    $('#goldcrab_delma_equinebundle_bloodtesttype_eK').val(data.e_k);
                    $('#goldcrab_delma_equinebundle_bloodtesttype_eBicarb').val(data.e_bicarb);
                    $('#goldcrab_delma_equinebundle_bloodtesttype_eCl').val(data.e_cl);
                    $('#goldcrab_delma_equinebundle_bloodtesttype_eMg').val(data.e_mg);
                }
            }, "json");
        });

        $('#bloodTestValueClearButton').click(function(){
            $('#goldcrab_delma_equinebundle_bloodtesttype_hWbc').val(0.0);
            $('#goldcrab_delma_equinebundle_bloodtesttype_hMcv').val(0.0);
            $('#goldcrab_delma_equinebundle_bloodtesttype_hNeut').val(0.0);
            $('#goldcrab_delma_equinebundle_bloodtesttype_hNeut2').val(0.0);
            $('#goldcrab_delma_equinebundle_bloodtesttype_hBaso').val(0.0);
            $('#goldcrab_delma_equinebundle_bloodtesttype_hBaso2').val(0.0);
            $('#goldcrab_delma_equinebundle_bloodtesttype_hRbc').val(0.0);
            $('#goldcrab_delma_equinebundle_bloodtesttype_hMch').val(0.0);
            $('#goldcrab_delma_equinebundle_bloodtesttype_hLymph').val(0.0);
            $('#goldcrab_delma_equinebundle_bloodtesttype_hLymph2').val(0.0);
            $('#goldcrab_delma_equinebundle_bloodtesttype_hBands').val(0.0);
            $('#goldcrab_delma_equinebundle_bloodtesttype_hHb').val(0.0);
            $('#goldcrab_delma_equinebundle_bloodtesttype_hMchc').val(0.0);
            $('#goldcrab_delma_equinebundle_bloodtesttype_hMono').val(0.0);
            $('#goldcrab_delma_equinebundle_bloodtesttype_hMono2').val(0.0);
            $('#goldcrab_delma_equinebundle_bloodtesttype_hPtp').val(0.0);
            $('#goldcrab_delma_equinebundle_bloodtesttype_hHct').val(0.0);
            $('#goldcrab_delma_equinebundle_bloodtesttype_hPlt').val(0.0);
            $('#goldcrab_delma_equinebundle_bloodtesttype_hEosino').val(0.0);
            $('#goldcrab_delma_equinebundle_bloodtesttype_hEosino2').val(0.0);
            $('#goldcrab_delma_equinebundle_bloodtesttype_hHpFib').val(0.0);
            $('#goldcrab_delma_equinebundle_bloodtesttype_cAlb').val(0.0);
            $('#goldcrab_delma_equinebundle_bloodtesttype_cCrea').val(0.0);
            $('#goldcrab_delma_equinebundle_bloodtesttype_cLd').val(0.0);
            $('#goldcrab_delma_equinebundle_bloodtesttype_cTrig').val(0.0);
            $('#goldcrab_delma_equinebundle_bloodtesttype_cSaa').val(-1.00);
            $('#goldcrab_delma_equinebundle_bloodtesttype_cFoal').val('');
            $('#goldcrab_delma_equinebundle_bloodtesttype_cAlp').val(0.0);
            $('#goldcrab_delma_equinebundle_bloodtesttype_cDBil').val(0.0);
            $('#goldcrab_delma_equinebundle_bloodtesttype_cTBil').val(0.0);
            $('#goldcrab_delma_equinebundle_bloodtesttype_cLactate').val(0.0);
            $('#goldcrab_delma_equinebundle_bloodtesttype_cLac').val(0.00);
            $('#goldcrab_delma_equinebundle_bloodtesttype_cPhos').val(0.0);
            $('#goldcrab_delma_equinebundle_bloodtesttype_cAst').val(0.0);
            $('#goldcrab_delma_equinebundle_bloodtesttype_cGct').val(0.0);
            $('#goldcrab_delma_equinebundle_bloodtesttype_cStp').val(0.0);
            $('#goldcrab_delma_equinebundle_bloodtesttype_cIron').val(0.0);
            $('#goldcrab_delma_equinebundle_bloodtesttype_cCk').val(0.0);
            $('#goldcrab_delma_equinebundle_bloodtesttype_cGluc').val(0.0);
            $('#goldcrab_delma_equinebundle_bloodtesttype_cUn').val(0.0);
            $('#goldcrab_delma_equinebundle_bloodtesttype_cTroponin').val(-1.00);
            $('#goldcrab_delma_equinebundle_bloodtesttype_eGluc').val(0.0);
            $('#goldcrab_delma_equinebundle_bloodtesttype_eHct').val(0.0);
            $('#goldcrab_delma_equinebundle_bloodtesttype_eCa').val(0.0);
            $('#goldcrab_delma_equinebundle_bloodtesttype_eBun').val(0.0);
            $('#goldcrab_delma_equinebundle_bloodtesttype_eHb').val(0.0);
            $('#goldcrab_delma_equinebundle_bloodtesttype_eIca').val(0.0);
            $('#goldcrab_delma_equinebundle_bloodtesttype_eNa').val(0.0);
            $('#goldcrab_delma_equinebundle_bloodtesttype_ePh').val(0.0);
            $('#goldcrab_delma_equinebundle_bloodtesttype_eK').val(0.0);
            $('#goldcrab_delma_equinebundle_bloodtesttype_eBicarb').val(0.0);
            $('#goldcrab_delma_equinebundle_bloodtesttype_eCl').val(0.0);
            $('#goldcrab_delma_equinebundle_bloodtesttype_eMg').val(0.0);
        });

//        $(':input').keypress(function(e) {
//            if(e.which == 13) {
//                var currentTabIndex = $(this).attr("tabindex");
//                console.log(currentTabIndex);
//                currentTabIndex++;
//                $('*').attr('tabindex', currentTabIndex).focus();
//
////                console.log($('[tabindex=' + ( currentTabIndex + 1 ) + ']'));
////
////                $('#newBloodForm').find('input[tabindex='+ (currentTabIndex + 1) +']').focus();
//                return false;
//            }
//        });

    });
</script>
{% endblock %}
